(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],Array(22).concat([function(e,t,a){e.exports=a(50)},,,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),m=a(14),o=a(7),s=a.n(o),u=a(9),i=a(4),d=a(1),E=a(2);a(28);var p=function(e){return r.a.createElement("header",null,r.a.createElement(d.b,{to:"/"},r.a.createElement("h1",null,"Fort Night")),r.a.createElement("div",{className:"shopHeader"},r.a.createElement(d.b,{to:"/shop"},r.a.createElement("p",null,"Shop"))),r.a.createElement("div",{className:"shopping-bag"},r.a.createElement(d.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-bag fa-2x"}),r.a.createElement("span",null,e.cartCount))))};a(34);var f=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Hosted with ",r.a.createElement("i",{className:"fas fa-heart"})," by ",r.a.createElement("a",{href:"https://github.com/chandraprakash-dev"},"github")),r.a.createElement("a",{href:"https://github.com/chandraprakash-dev/Shopping-cart"},r.a.createElement("i",{className:"fas fa-code fa-2x"})))};a(35);var h=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("h2",null,"Are you a Knight?"),r.a.createElement("h2",null,"Welcome to Fort night!"),r.a.createElement(d.b,{to:"/shop"},r.a.createElement("button",null,"Purchase artefacts")))};a(36);var v=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){h()}),[]);var m=e.cartItems,o=e.id,E=m.findIndex((function(e){return e.itemId===o})),p=m[E],f=E>=0?r.a.createElement("div",{className:"changeQuantity"},r.a.createElement("button",{onClick:function(){return e.updateCart(E,"-")}},"-"),r.a.createElement("p",null,p.quantity),r.a.createElement("button",{onClick:function(){return e.updateCart(E,"+")}},"+")):r.a.createElement("button",{onClick:function(){return e.addToCart(o)}},"Add to cart"),h=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fortnite-api.theapinetwork.com/item/get?id=".concat(o),{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.data,console.log(n),l(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?r.a.createElement("div",{className:"shop-card"},r.a.createElement("div",{className:"heading"},r.a.createElement(d.b,{to:"shop/".concat(o),className:"itemName"},r.a.createElement("h3",null,e.values.name))),r.a.createElement("div",{className:"shopItemImage"},r.a.createElement("img",{src:c.item.images.icon,alt:c.name})),r.a.createElement("p",{className:"rarity"},c.item.rarity),r.a.createElement("div",{className:"ratings"},r.a.createElement("p",null,c.item.ratings.avgStars),r.a.createElement("p",null,c.item.ratings.numberVotes," ratings")),r.a.createElement("div",{className:"price"},r.a.createElement("p",null,"$",e.values.cost),f)):r.a.createElement("div",null,r.a.createElement("p",null,"Loading..."))};a(37);var y=function(e){var t=e.cartItems,a=e.shopItems;console.log(a,t);var n=a.map((function(a){return r.a.createElement(v,{key:a.itemId,id:a.itemId,values:a.item,cartItems:t,updateCart:e.updateCart,addToCart:e.addToCart})})),c=Array.isArray(t)&&t.length?r.a.createElement("div",{className:"shopLinks"},r.a.createElement(d.b,{to:"/cart"},r.a.createElement("button",null,"Go to cart")),r.a.createElement(d.b,{to:"/buy"},r.a.createElement("button",null,"Proceed to buy"))):null;return r.a.createElement("div",{className:"shop"},c,r.a.createElement("div",{className:"shopList"},n))};a(38);var b=function(e){console.log(e);var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){p()}),[]);var m=e.cartItems,o=e.values.itemId,d=m.findIndex((function(e){return e.itemId===o}));console.log(d);var E=m[d],p=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fortnite-api.theapinetwork.com/item/get?id=".concat(o),{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.data,console.log(n),l(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=c?r.a.createElement("img",{src:c.item.images.icon,alt:c.name}):null;return r.a.createElement("div",{className:"cart-card"},r.a.createElement("div",{className:"itemInfo"},r.a.createElement("div",{className:"cartImage"},f),r.a.createElement("p",null,e.values.item.name)),r.a.createElement("p",null,"Rs. ",e.values.item.cost),r.a.createElement("div",{className:"changeQuantity"},r.a.createElement("button",{onClick:function(){return e.updateCart(d,"-")}},"-"),r.a.createElement("p",null,E.quantity),r.a.createElement("button",{onClick:function(){return e.updateCart(d,"+")}},"+")),r.a.createElement("p",null,E.quantity*e.values.item.cost))};a(39);var g=function(e){console.log("/Shopping-cart");var t=e.cartItems,a=t.map((function(a){return r.a.createElement(b,{key:a.itemId,values:a,cartItems:t,updateCart:e.updateCart})}));return Array.isArray(t)&&!t.length?r.a.createElement("div",{className:"cart cart-empty"},r.a.createElement("h1",null,"Cart is empty"),r.a.createElement("p",null,"Go to shop to add items!"),r.a.createElement("img",{src:"/Shopping-cart/assets/images/empty_cart.png",alt:"empty cart"})):r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"cartList"},a),r.a.createElement("div",{className:"cart-total"},r.a.createElement("p",{className:"total"},"Grand total"),r.a.createElement("p",null,e.total)),r.a.createElement(d.b,{to:"buy"},r.a.createElement("button",{className:"buyButton"},"Proceed to Buy")))};a(40);var C=function(e){var t;return e.address.checked&&(t=r.a.createElement("div",null,r.a.createElement(d.b,{to:"/payment"},r.a.createElement("button",{onClick:e.selectAddress},"Deliver to this address")))),r.a.createElement("div",{className:"addressCard"},r.a.createElement("div",{className:"address"},r.a.createElement("input",{type:"radio",name:"address",value:e.address.address,checked:e.address.checked,onChange:function(){return e.handleChange(e.index)}}),r.a.createElement("p",null,e.address.address),r.a.createElement("i",{className:"fas fa-edit"})),t)};a(41);var N=function(e){var t=e.addresses.map((function(t,a){return r.a.createElement(C,{key:a,index:a,address:t,selectAddress:e.selectAddress,handleChange:e.handleChange})}));return r.a.createElement("div",{className:"buy"},r.a.createElement("h2",null,"Select a delivery address"),r.a.createElement("div",{className:"addresses"},t),r.a.createElement("form",{name:"addressForm"},r.a.createElement("label",null,r.a.createElement("input",{name:"address",placeholder:"Enter your address"})),r.a.createElement("button",{onClick:e.addAddress},"+ Add new address")),r.a.createElement(d.b,{to:"/cart"},r.a.createElement("button",null,"Cancel and go back to cart")))};a(42);var k=function(e){var t;return e.payment.checked&&(t=r.a.createElement("div",null,r.a.createElement(d.b,{to:"/placeorder"},r.a.createElement("button",null,"Pay")))),r.a.createElement("div",{className:"paymentCard"},r.a.createElement("div",{className:"payment"},r.a.createElement("input",{type:"radio",name:"payment",value:e.payment.payment,checked:e.payment.checked,onChange:function(){return e.handleChange(e.index)}}),r.a.createElement("p",null,e.payment.payment),r.a.createElement("i",{className:"fas fa-edit"})),t)};a(43);var I=function(e){var t=e.payments.map((function(t,a){return r.a.createElement(k,{key:a,index:a,payment:t,selectPayment:e.selectPayment,handleChange:e.handleChange})}));return r.a.createElement("div",{className:"pay"},r.a.createElement(d.b,{to:"/buy"},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("h1",null,"Pay \u20b9 ",e.total),r.a.createElement("h2",null,"Select a payment method"),r.a.createElement("div",{className:"payments"},t),r.a.createElement("form",{name:"paymentsForm"},r.a.createElement("label",null,r.a.createElement("input",{name:"payment",placeholder:"Enter your Payment"})),r.a.createElement("button",{onClick:e.addPayment},"+ Add new Payment")))};a(44);var O=function(e){var t=e.cartItems.map((function(e){return r.a.createElement("tr",{key:e.itemId},r.a.createElement("td",null,e.item.name),r.a.createElement("td",null,e.item.cost),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.item.cost*e.quantity))}));return r.a.createElement("div",{className:"orderSummary"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Total")),t,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3"},"Total"),r.a.createElement("td",null," ",e.total)))))};a(45);var j=function(e){return r.a.createElement("div",{className:"paymentSummary"},r.a.createElement("h2",null,"Pay with"),r.a.createElement("p",null,e.payment))};a(46);var x=function(e){return r.a.createElement("div",{className:"addressSummary"},r.a.createElement("h3",null,"Deliver to"),r.a.createElement("p",null,e.address))};a(47);var S=function(e){return r.a.createElement("div",{className:"placeOrder"},r.a.createElement(d.b,{to:"/payment"},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("h2",null,"Place your order"),r.a.createElement(O,{cartItems:e.cartItems,total:e.total}),r.a.createElement(j,{payment:e.payment}),r.a.createElement(x,{address:e.address}),r.a.createElement(d.b,{to:"/cart"},r.a.createElement("button",null,"Cancel and go to cart")),r.a.createElement(d.b,{to:"/confirmation"},r.a.createElement("button",{onClick:e.clearCart},"Place order and pay")))};a(48);var w=function(){return r.a.createElement("div",{className:"confirmation"},r.a.createElement("h1",null,"Thanks for shopping with us!"),r.a.createElement("p",null,"Your order will be delivered in 2 seconds.."),r.a.createElement(d.b,{to:"/shop"},r.a.createElement("button",null,"Continue shopping")),r.a.createElement(d.b,{to:"/"},r.a.createElement("button",null,"go to Home")))};a(49);var P=function(e){console.log(e);var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){h()}),[]);var m=e.cartItems,o=e.match.params.id,E=m.findIndex((function(e){return e.itemId===o})),p=m[E],f=E>=0?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.updateCart(E,"-")}},"-"),r.a.createElement("p",null,p.quantity),r.a.createElement("button",{onClick:function(){return e.updateCart(E,"+")}},"+"),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/cart"},r.a.createElement("button",null,"Go to cart")),r.a.createElement(d.b,{to:"/buy"},r.a.createElement("button",null,"Proceed to buy")))):r.a.createElement("button",{onClick:function(){return e.addToCart(o)}},"Add to cart"),h=function(){var t=Object(u.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fortnite-api.theapinetwork.com/item/get?id=".concat(e.match.params.id),{mode:"cors"});case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r=n.data,console.log(r),l(r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c?r.a.createElement("div",null,r.a.createElement("h1",null,c.item.name),r.a.createElement("img",{src:c.item.images.icon,alt:c.name}),r.a.createElement("div",null,r.a.createElement("p",null,c.item.cost),r.a.createElement("p",null,c.item.rarity),r.a.createElement("p",null,c.item.ratings.avgStars),r.a.createElement("p",null,c.item.ratings.numberVotes," ratings"),r.a.createElement("p",null,c.itemOccurrences.firstOccurrences),r.a.createElement("p",null,c.itemOccurrences.lastOccurrences)),f):r.a.createElement("div",null,r.a.createElement("p",null,"Loading..."))};var A=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),v=o[0],b=o[1];Object(n.useEffect)((function(){C()}),[]);var C=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fortnite-api.theapinetwork.com/items/list");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=(n=a.data.slice(0,100)).filter((function(e){return 0!=e.item.cost})).slice(0,20),console.log(n),c(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t=a.filter((function(t){return t.itemId===e}))[0];console.log(t),t.quantity=1,b([].concat(Object(m.a)(v),[t]))},O=function(e,t){console.log("in update");var a=v.slice(),n=a[e],r="+"===t?n.quantity+1:n.quantity-1;0===r?a.splice(e,1):n.quantity=r,b(a)},j=v.reduce((function(e,t){return e+t.quantity}),0),x=v.reduce((function(e,t){return e+t.quantity*t.item.cost}),0),A=Object(n.useState)([{address:"Home",checked:!0}]),q=Object(i.a)(A,2),T=q[0],D=q[1],H=Object(n.useState)("Home"),L=Object(i.a)(H,2),F=L[0],G=L[1],B=Object(n.useState)([{payment:"UPI",checked:!0}]),Q=Object(i.a)(B,2),J=Q[0],U=Q[1],V=Object(n.useState)("UPI"),K=Object(i.a)(V,2),M=K[0],R=K[1];return r.a.createElement(d.a,null,r.a.createElement(p,{cartCount:j}),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:h}),r.a.createElement(E.a,{path:"/Shopping-cart",component:h}),r.a.createElement(E.a,{exact:!0,path:"/shop"},r.a.createElement(y,{shopItems:a,cartItems:v,addToCart:k,updateCart:O})),r.a.createElement(E.a,{path:"/shop/:id",render:function(e){return r.a.createElement(P,Object.assign({},e,{cartItems:v,addToCart:k,updateCart:O}))}}),r.a.createElement(E.a,{path:"/cart"},r.a.createElement(g,{cartItems:v,total:x,updateCart:O})),r.a.createElement(E.a,{path:"/buy"},r.a.createElement(N,{cartItems:v,total:x,addresses:T,handleChange:function(e){D((function(t){var a=t.slice();return a.forEach((function(e){return e.checked=!1})),a[e].checked=!0,a}))},addAddress:function(e){e.preventDefault();var t=e.target.closest("form").address.value;console.log(t),D((function(e){var a=0===e.length;return a&&G(t),[].concat(Object(m.a)(e),[{address:t,checked:a}])}))},selectDeliveryAddress:function(e){e.preventDefault();var t=e.target.closest(".address").querySelector("p").textContent;G(t)}})),r.a.createElement(E.a,{path:"/payment"},r.a.createElement(I,{total:x,payments:J,handleChange:function(e){U((function(t){var a=t.slice();return a.forEach((function(e){return e.checked=!1})),a[e].checked=!0,a}))},addPayment:function(e){e.preventDefault();var t=e.target.closest("form").payment.value;console.log(t),U((function(e){var a=0===e.length;return a&&R(t),[].concat(Object(m.a)(e),[{payment:t,checked:a}])}))},selectPayment:function(e){e.preventDefault();var t=e.target.parentNode.querySelector(".payment").textContent;R(t)}})),r.a.createElement(E.a,{path:"/placeorder"},r.a.createElement(S,{cartItems:v,total:x,payment:M,address:F,clearCart:function(){console.log("in the clear"),b([])}})),r.a.createElement(E.a,{path:"/confirmation"},r.a.createElement(w,null))),r.a.createElement(f,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}]),[[22,1,2]]]);
//# sourceMappingURL=main.bc68dedc.chunk.js.map